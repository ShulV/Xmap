# :world_map: Xmap (Карта мест)
## :question: Небольшая помощь для разработчиков
### Как открыть Swagger документацию:
http://localhost:8080/swagger-ui/index.html
### Как получить коллекцию для Postman:
Скачайте последнюю версию с https://github.com/ShulV/Xmap/tree/main/postman и импортируйте в Postman.
### Как инициализировать базу данных (PostgreSQL):
<ul>
  <li>Создайте все таблицы, индексы, функции и т.д., также вставьте основные справочники: https://github.com/ShulV/Xmap/blob/main/sql/generate_DB.sql</li>
  <li>Вставьте справочники для стран/регионов/городов: https://github.com/ShulV/Xmap/blob/main/sql/insert_cities_regions_countries.sql</li>
  <li>Вставьте пользователя и некоторые реальные споты: https://github.com/ShulV/Xmap/blob/main/sql/additional_insert_scripts.sql</li>
</ul>

### Как просмотреть модель базы данных:
Скачайте и откройте в специальных UML-инструментах: https://github.com/ShulV/Xmap/blob/main/uml/relation_model.csv
Разработчики должны держать эту модель в актуальном состоянии или добавлять в репо новые её версии, указывая в названии дату изменения.

### Как писать логи:
<ul>
  <li>Используйте snake_case для переменных</li>
  <li>Записывайте переменные в квадратных скобках ('[', ']')</li>
  <li>Пишите двоеточие (':') перед блоком переменных</li>
  <li><code>logger.atInfo()</code> - информация, <code>logger.atWarn()</code> - предупреждения, <code>logger.atError()</code> - критические ошибки</li>
</ul>

```java
logger.atInfo().log("Информация об изображении создана: [image_info_id = '{}']", imageInfo.getId());
```

### Как называть ключи JSON: 
(snake_case)
```javascript
"some_key_name" : "value" 
```
P.S. Многие библиотеки JSON (в Spring Framework), такие как Jackson, поддерживают формат camelCase из коробки.

Но было решено, что snake_case более удобен для чтения.

### Размеры методов и классов:
<p>Максимальная длина методов - 100 строк. Максимальная длина класса - 1000 строк.</p>
<p>Если размер метода или класса превышает эти значения, новая бизнес-логика может быть добавлена только в виде вызовов методов других функций.</p>
<p>Но лучше внимательно рефакторить!</p>

### Структура пакетов:
Когда появляется более одного контроллера, сервиса, репозитория, модели, DTO и т.д., мы объединяем их в один пакет.

### Внедрение зависимостей с использованием Lombok:
Используйте @RequiredArgsConstructor и только его. 1 конструктор для внедрения зависимостей (без аннотации @Autowired).
Lombok сгенерирует конструктор, который принимает все необходимые зависимости, помеченные из переменных final или @NonNull.

## :question: Некторые пока что нерешенные проблемы приложения:
<ul>
  <li>Проблема Hibernate N+1</li>
</ul>
